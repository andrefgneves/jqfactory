/*! jqfactory - v0.2.0 - 2013-07-07 
* https://github.com/gfranko/jqfactory
* Copyright (c) 2013 Greg Franko; Licensed MIT*/
!function(a){"use strict";"function"==typeof define&&define.amd?define("jqfactory",["jquery"],function(){a(window.jQuery,window,document)}):a(window.jQuery,window,document)}(function(a,b,c,d){"use strict";var e,f=Array.prototype.slice,g={create:function(b,c,f){var h,i,j=b.split("."),k=j[0],l=j[1],m=k+"-"+l,n="."+m,o=c,p=g.common,q={};a.fn[k],a[k]=a[k]||{},k&&l&&a.isPlainObject(c)&&!a.isEmptyObject(c)&&!a[k][l]&&(i=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},i.prototype=p,a[k][l]=e=o,f?(q[l]=function(a){return this.each(function(){h(this,a)})},g.utils.createNamespace(k,q)):a.fn[l]=function(a){return this.each(function(){h(this,a)})},h=function(b,e){var f,h,j,p=c.element,q=p?a(p)[0]:b,r=a(q),s=a.data(q,m),t={},u=o.options||{};return s?(s._init(e),void 0):(f=new i(o),f.options=a.extend(!0,{},u,e),f._super=g.common,f.callingElement=b,f.$callingElement=a(b),f.element=q,f.$element=r,f.namespace=k,f.basename=l,f.fullname=m,f.eventnamespace=n,a.data(q,f.fullname,f),t[m]=function(b){return a(b).data(m)!==d},a.extend(a.expr[":"],t),h=f._create()||{},g.utils.isDeferred(h)?h.done(function(){j=f._render.apply(f,arguments)||{},g.utils.postRender(j,f,arguments)}):(j=f._render()||{},g.utils.postRender(j,f)),void 0)})},utils:{createNamespace:function(b,c){a.fn[b]||(a.fn[b]=function d(a){return this instanceof d?(this.__namespace_context__=a,void 0):new d(this)}),a.each(c,function(c,d){a.fn[b].prototype[c]=function(){return d.apply(this.__namespace_context__,arguments)}})},isDeferred:function(b){return a.isPlainObject(b)&&b.promise&&b.done},postRender:function(a,b,c){g.utils.isDeferred(a)?a.done(function(){b._eventBindings(b._events),b._postevents.apply(b,c)}):(b._eventBindings(b._events),b._postevents())}},common:{_create:a.noop,_init:a.noop,_render:a.noop,_events:{},_postevents:a.noop,_on:function(b,c){var d={};return a.isPlainObject(b)?(this._eventBindings(b),d=b):"string"===a.type(b)&&a.isFunction(c)&&(d[b]=c,this._eventBindings(d)),this._events=a.extend(!0,{},this._events,d),this},_off:function(b){var c,d={},e=-1;if(a.isArray(b))for(c=b.length;++e<c;)d[b[e]]=0;else d[b]=0;return this._eventBindings(d,"off"),this},_trigger:function(d,e,f){d="window"===d?a(b):"document"===d?a(c):d;var g=a(d).length;return f=g?f:e,e=g?e:d,d=d?d.jquery?d:g?a(d):this.$element:this.$element,d.trigger(e+this.eventnamespace,f),this},_superMethod:function(){var a=f.call(arguments),b=a.shift();return g.common[b].apply(this,a)},delay:function(b,c){function d(){return("string"===a.type(b)?e[b]:b).apply(e,arguments)}var e=this;return setTimeout(d,c||0)},disable:function(){return this.option("disabled",!0),this._trigger("disable"),this},enable:function(){return this.option("disabled",!1),this._trigger("enable"),this},destroy:function(){return this._trigger("destroy"),a.removeData(this.element,this.fullname),this._eventBindings(this._events,"off"),this},option:function(b,c){function e(a,b){for(var c,e=-1,f=a.split("."),g=f.length,h=j;++e<g;)if(c=f[e],h[c]){if(g-1===e)return b!==d?(h[c]=b,void 0):h[c];h=h[c]}}var f,g,h=this,i=c!==d,j=h.options;if(0===arguments.length)return this._trigger("getOptions",j),j;if("string"!==a.type(b)||b.length){if(a.isPlainObject(b)){for(var k in b)b.hasOwnProperty(k)&&e(k,b[k]);this._trigger("setOptions",b)}else{if(f=b.split("."),g=f.length,1===g&&!i)return this._trigger("getOption",{key:b,val:j[b]}),j[b];if(1===g&&i)j[b]=c,this._trigger("setOption",{key:b,val:c});else{if(!c)return this._trigger("getOption",{key:b,val:c}),e(b);e(b,c),this._trigger("setOption",{key:b,val:c})}}return this}},_eventBindings:function(d,e){var f,g,h,i,j,k,l=this,m=l.$element,n=0;e=e||"on","off"===e&&m.off(l.eventnamespace);for(f in d)n=f.lastIndexOf(" "),g=a.proxy(d[f],l),i="!"===f.charAt(0),h=f.substring(n+1)+l.eventnamespace,-1===n?"on"===e&&m.on(h,g):i?(j=f.substring(1,n),k="window"===j?a(b):"document"===j?a(c):a(j),"on"===e?k.on(h,g):"off"===e&&k.off(h)):(j=f.substring(0,n),"on"===e&&m.on(h,j,g));return this}}};a.jqfactory===d&&(a.jqfactory=function(){g.create.apply(this,arguments)},a.jqfactory.common=g.common,a.jqfactory.VERSION="0.2.0")});