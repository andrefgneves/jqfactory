<!doctype html>
<head>
  <meta charset="utf-8">
  <!--<link type="text/css" rel="stylesheet" href="css/jqm.css" /> -->
  <style>
  .testing {
    font-weight: bold;
    font-size: 20px;
  }
  </style>
</head>
<body>
<ul class="allstar">
    <li class='star'>I am an allstar!</li>
    <li class='beginner'>I a beginner!</li>
</ul>
<div class="test">Test</div>
<div class="test"></div>
<div class="test"></div>
<div class="test"></div>
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script src="./jqfactory.js"></script>
<script>
    $.jqfactory('ui.greg', {
        options: {
            person: {
                name: {
                    firstname: 'greg',
                    lastname: 'franko'
                }
            },
            animal: 'lion'
        },
        _create: function() {
            var def = $.Deferred();
            console.log('_create called');
            setTimeout(function() {
                def.resolve('test');
            }, 1000);
            return def;
        },
        _render: function(data) {
            var def = $.Deferred();
            console.log('_render called', data);
            setTimeout(function() {
                def.resolve('testing');
            }, 1000);
            return def;
        },
        _events: {
            '.star click': function (ev) {
                console.log('star clicked');
            },
            '!window click': function() {
                console.log('window clicked');
            },
            'destroy': function() {
                console.log('destroy called');
            },
            'setOption': function(ev, data) {
                console.log('setOption', data);
            },
            'setOptions': function(ev, data) {
                console.log('setOptions', data);
            },
            'jennyisawesome': function() {
                console.log('jenny is awesome');
            },
            'disable': function() {
            },
            'enable': function() {
            }
        },
        _postevents: function(data) {
            //this._trigger('destroy');
            this._trigger('window', 'click');
            console.log('_postrender called');
            this._on({
                '.beginner click': function(ev) {
                    console.log('beginner clicked!');
                },
                '.beginner mouseenter': function(ev, data) {
                    console.log('beginner mouseenter');
                }
            });
        }
    });

    $('.allstar').greg();

</script>
</body>
</html>